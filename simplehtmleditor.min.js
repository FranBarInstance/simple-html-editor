/*!
 * Simple HTML Editor v1.0.1
 * A lightweight, customizable WYSIWYG HTML editor for modern web applications
 *
 * @author FranBarInstance
 * @license MIT
 * @version 1.0.1
 * @link https://github.com/FranBarInstance/simple-html-editor
 * @copyright (c) 2022-2025
 */
if(window.ncsedtRestorable=function(){var e=this;this.elementsWithTag=document.querySelectorAll("ncsedt-restorable"),this.elementsWithAttribute=document.querySelectorAll('[data-ncsedt-restorable="true"]'),this.savedHTML=[],this.savedAttributes=[],this.undoHistoryHTML=[],this.undoHistoryAttributes=[],this.htmlElementCount=0,this.attributeElementCount=0,this.elementsWithTag.forEach((function(t){e.savedHTML[e.htmlElementCount++]=t.innerHTML})),this.elementsWithAttribute.forEach((function(t){e.savedAttributes[e.attributeElementCount++]=t.cloneNode().attributes}))},ncsedtRestorable.prototype.restore=function(){var e=this,t=0;t=0,this.elementsWithTag.forEach((function(i){e.undoHistoryHTML[t++]=i.innerHTML})),t=0,this.elementsWithAttribute.forEach((function(i){e.undoHistoryAttributes[t++]=i.cloneNode().attributes}));for(let e=0;e<this.elementsWithTag.length;e++)this.elementsWithTag[e].innerHTML=this.savedHTML[e];for(let t=0;t<this.elementsWithAttribute.length;t++)Array.prototype.slice.call(this.elementsWithAttribute[t].attributes).forEach((function(i){e.elementsWithAttribute[t].removeAttribute(i.name)}));for(let t=0;t<this.elementsWithAttribute.length;t++)Array.prototype.slice.call(this.savedAttributes[t]).forEach((function(i){e.elementsWithAttribute[t].setAttribute(i.name,i.value)}));document.dispatchEvent(new Event("editorchanges"))},ncsedtRestorable.prototype.undoRestore=function(){var e=this;for(let e=0;e<this.elementsWithTag.length;e++)this.elementsWithTag[e].innerHTML=this.undoHistoryHTML[e];for(let t=0;t<this.elementsWithAttribute.length;t++)Array.prototype.slice.call(this.undoHistoryAttributes[t]).forEach((function(i){e.elementsWithAttribute[t].setAttribute(i.name,i.value)}));document.dispatchEvent(new Event("editorchanges"))},!("ncsedtRestorableObj"in window))var ncsedtRestorableObj=new ncsedtRestorable;window.ncSimpleHtmlEditor=function(e={}){var t=this;this.restorable=window.ncsedtRestorableObj||new ncsedtRestorable,this.state={isEditing:!1,clipboard:null,history:{undo:[],redo:[],force:[]},selection:null},this.validateOptions(e);const i={editableContentSelector:"body",usesLinearUndoHistory:!0,mutationGroupingWindowMs:200,toolbarCols:null,saveTimeout:500,maxImageSizeBytes:MAX_IMAGE_SIZE_BYTES,toolbar:["edit","undo","redo","up","down","cut","copy","paste","code","link","image","head","save"],buttons:{edit:{name:"edit",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAABP0lEQVRo3u3YMU4CQRTG8T+7nkM3HkUTK26BHa2Vt9BGGlAEgl5Dz2E2XoFGGqLNTljJDDNLwXtD3pdMQTIkv+/tsNkFLBaLxQIV8AmsgAeglAZ1yTnwBfy21jtwJg07FJ9NiX34LEoMI3i3Fij+TdwnlniUhrpUwNUBJVbScIevgR/gpmOJDy14B+pSogYuJPGhu80a6O/svdvZ8w1casSnlBDHV/w/NqHlO07D5vtiCU1+AgyADfErIZYK/+THQNHsucV/Ja6l8fsm7/A94MmzR/zMnyT++ZTwo1zxRfM5G/yS7eNvAbwY3vBpePfqlx3+rYUvc8dPDW/4OL79X41aPPgfiedsb5UlMPPsqRF+GXGJTf4VpZMPFWhPfo7iyYcKOLz6yYcKhJZKfGoBtfiUAqrxsQLq8RaLxXKc/AH+RGvPIDl6DwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOS0xNlQxNDo1ODoyMyswMDowMGRD6r4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDktMTZUMTQ6NTk6MzIrMDA6MDCQATIWAAAAAElFTkSuQmCC",icon2:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAACI0lEQVRo3u3YsWoUURTG8Z9ICIiNsDEiioioKGEbK0uxUWwkjU9kbRUbn8BitQkE0byBTUSx0FgkisaAaCGITSx2Bzezd3buzM7OzJL9YNhqzvy/c+45995lrrnmmmsuOljHL6xhoWmgIlrCFg6GnnUsNg1WFn5mTCzhTQZ8aRMdbKJbg4E7+Jtj4AA9kT3R8b+c+zWZWI00sRYT7FXqpWmY6AZixpj4GRN8BXtTNNEdxAvFzDPxMvYjV/El9fIP3KgIflzMe/gTgN/GcpGPXcHnCk2k4YuY2B/wFNZl7FZgIgs+xsRv3CyZNHAJO8r3RB78uJiruDsJfKIL+muwaCWy4Hu4b3StV9FnY018ishaDHyyIT0QV4nKdB4fIz/4Igf+OJ7WbQDO4J380p90eFMchj+GJwH479OGT7SMtxEmFvE8AP+4SfhEoUqEyr/g8CHskQaWTZZOGz0Kj5skD7Ug82ndFpfRE0YvLY1lPtG4TSpUiVN4rSWZj9lhQxmu87JUGH5DP7OtWiax8MmovIav4hu7VfAGvxtaNCqLwj+T3RONVaIK+MZMTAL/Hrc03BMx8L0M+OQOG0pCbT1RJvMfcDYVp7HplIbLy/w2zmXEaqQSacAEPpT5HVzMiVd7JfKmSvLs6v8BEKNaTcTAfxtAFVFtJvLg93C9ZOxaTOSdNlcmjN/qs9ORMhEasZtNQxXVcCW29C8/M6eufuZnEv7o6h+WFd8aD3ft0gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOS0xNlQxNDo1OTozMiswMDowMOFciqoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDktMTZUMTQ6NTk6MzIrMDA6MDCQATIWAAAAAElFTkSuQmCC",title:"Edit",disabled:function(){return t.isEditButtonDisabled()},action:function(){t.editToggle()}},code:{name:"code",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAACIElEQVRo3u2ZsUscQRjFf8ZCMFVSmFIskiqkUxEkXbAJFmJO0MQmraSxDYLYJVVII5axCakEm5C/IBwh2ClBxPaKWNhEjMlZXA7mHrPZmZ3ZGYR9cMXevO99783s7c7tQoMGDRrkxHCiPgvAHjADjAO/gE7u8D54A3SNz9tYwrcSBZiS43aivlEwDJwzuALjuU354JGYj3ruh55Cyw6cSTluV9CoBS3gtwNvh8EVeC3jV8CLXOa7DtwDCfBExrupQ5jmywKMCvcvcMcSIFkINV8W4LFwjywcc7zWEMv/GpgNy34D68LftXB0Qq6o4Ydtm3mXRp+kZs3CWQQuqXElqpoHOJW6yQJebSFCzI9J3QUw8h9+9BAh5gHmpfarQ020EKHmAbak/p1jXXCIGOYBvojGc4/ayiFimR8CzkTnvqeGUwjXzdyQZ/MHDN5xz4BjT42ivqXbl6JVWPFovCr1nz2NLxZ4cD4NnwUKvJfaTQ/zob2jCLWl7mlq8yGCI/RuWmbNvRzmqwpPC/fEoUfLs0e0ELbr8ivhfcxtvo+lgkaKXeGsl+jatuhLsc33Ybu8KX7I+GyJZsjlOkoIE3fp/W00Z/O2Y4Ak5m0hTMwxOKPfHbSSmzdDXMp3GxJg20Eni/k+WnK8LwFeVtDIio4EeJjbkA8mxPw5Cd4/xHy8ro/QvwF/bnKAJO8AYi5xh95N7Ce9Dd0H4DBFiAYNGjTIh2vrWlwSpGLTnQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOS0xNlQxNTowMjowNCswMDowMFgiNkMAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDktMTZUMTU6MDI6MDQrMDA6MDApf47/AAAAAElFTkSuQmCC",title:"Code",disabled:function(){return t.isCodeButtonDisabled()},action:function(){t.editCode()}},undo:{name:"undo",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAABhklEQVRo3u3WMWsUURDA8Z9i5CQaG5toIURMIRLUJo3Gyi5fxVYbwWATIYVo48ewsLJUsFFMYZVCiyTNhQhBwXDEnGfxVjiWvTWn7xED84dpdpeZ+e/Mg0cQBEEQBEEQ/E88PuwG/pXBUZI4MeL5ffSwNEauCdzELdzAZUzjNH7gC7axibd4g1Xs55YaDMVBBK7iedXgYMzYwZNKtohAm8QVvMTPv2i8Hv0q12wJgfqZmJBWbC9D4/XYq2p1cgv8nsRFaW9zN16PDzh/kGaPjRAYxXdMtrzfxWu8wntsoVvlPCcd6nncxh2cacm1iUV8zDWBtuji3h8aqjOFu/jUkvcr5koK9LGMU+MWGaIjrWdvRI11aXLZBb5Jq5CLa9LaNNV6h5MlJrCUUQAuSDvfVOtBCYES145pbDTU2cWlEgIlJnFd85l4UUqgxCQeNdToY6aUQO5JdPC5ocbK8EfHM/+1hxklenhae9aVrhut5LgK5JI4izU8w4L8PzwIgiAIgiAIgiPML+zxM5YSM3skAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA5LTE2VDE1OjAxOjUyKzAwOjAwmCW2HgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wOS0xNlQxNDo1OTo1NiswMDowME3jdLwAAAAASUVORK5CYII=",title:"Undo",disabled:function(){return t.isUndoButtonDisabled()},action:function(){t.undo()}},redo:{name:"redo",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAABiklEQVRo3u3WT0tUURjH8U+hhoSuijQqd4oECS1aBJK73ktvoCCs2am7auHLCIJatSraRFjbsDYFUVAgRqFWji7uLPQ4c+femWO6eL5wFvfP8/D9nXMv5xAEQRAEQRAEQTUaRy3Qr/xOenMgQ+MBXMUNXMdFnMUZDOIXvuID3uIlXuFfTfn7uWdkEg+x1pqZOuM7lnG5ovze2r6ZwjM0exBPRxNPMF1Rvq8Ag7iNzQzi6fiLRZzqIt9zgPNYOQTxdKxgokT+QIATFeRn8BQXSt75ied4gdf4hh+t/mM4h2u4qfjZh0t6/cbpkudVnPfJr5fMxipuYaRGz1HcaYXsZZUqM47PHZpsYB5DdRomDGMJ24cRYAhvOjT4hCt9iKfMKT7BrAHudih+11qZnDRqyFcKMKHYPdPCL8p/5P8hXynAY+2/+ZljIN81wCXFGSUtundM5LsGWGhT8NH+HfIo5Q8EOJlc/1GcHPfyAFsZ5bOfKtuFmsUjvFdsPLnkcxw3giAIgiAIgiAIwC7w7i5ZynjYFQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOS0xNlQxNTowMjowNCswMDowMFgiNkMAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDktMTZUMTU6MDI6MDQrMDA6MDApf47/AAAAAElFTkSuQmCC",title:"Redo",disabled:function(){return t.isRedoButtonDisabled()},action:function(){t.redo()}},up:{name:"up",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAsUlEQVRo3u3VTQqCUBhG4dMP0aBZbaLVNWzaRlqJm2gpzmoSNXGQYJJe7bsXzgOCA9H3CCJIkqRei+gBKS7AFVhGDxk7/tUcxUV8ji8uomt8MRF947OP+GV8thFDxmcXMWZ8NhEp4yeJWCWMPwFn4PHl2NL+C9fAveO6I7AHqr+88gFq2m/6MMdDsviIDCiZAdEMiGZANAOiGRDNgGjFB6xnvPcN2DXnG+AZHStJkqb2BvfBZVUwT6fHAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA5LTI3VDExOjAxOjU1KzAwOjAwYMkoEwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wOS0yN1QwMTowMTo1NSswMDowMBGUkK8AAAAASUVORK5CYII=",title:"Select up",disabled:function(){return t.isUpButtonDisabled()},action:function(){t.up()}},down:{name:"down",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAArUlEQVRo3u2XvQrCMBgAT9FJEAqu4vO4+BgOvrSv4NjJOgm10Gp/vwTv4JuSkLtsAREREelkBxTAKlqkLw+gqs1hjkvW0ZUGRAsYEC1gQLSAAdECBkQLGBAtYEC0wN8HbEacPQLbjvXm45yAfcveCrgvHX8GSj5/XUPmCdyWlp8qIlR+bEQS8kMjkpLvG5Gk/K8RSct/i8hCvi0iK/lmRJbyby7ANVpCRERE5uIFO9pmz/tN+9wAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDktMjdUMDE6MDE6MzcrMDA6MDAxOTC9AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA5LTE2VDE1OjAxOjE1KzAwOjAwqJU+1gAAAABJRU5ErkJggg==",title:"Selenct down",disabled:function(){return t.isDownButtonDisabled()},action:function(){t.down()}},cut:{name:"cut",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAB9klEQVRo3u2YTU7CQBiGHzHqCgzXELmAceERSIhncUndGRFTAtHD+BNdeAAFI3HJDQSXGFxMScgU2pnOtDOLvskkJP2m87ztVzp9oVSpUmlqAn1gDPxGYwyEwLFruCQdAHfAH7DcMhbAENh3DbsJ/jkBXB5Plk0ECWsp6V4DfjUGBcArGWgSb5sp0Aaq0WgBE+Lt1MgZPlA5SShN+gLqG+rqkbH12lvX8ACf0sRWQu25VDtyDQ8wkyZXE2prUu3MNbyugUOp9sc1POi1UFuq/XAND/GHeML2h/hbqr12DQ9ie7CQTjhFPLC1aLQ3wC+Bnmv4lYYpi2QFKAQexLbg0bKJwuDXTQyIt1NWE4FGrVU1EG/YETBH/FW+A11Ez5uayBVeRRcpJq4S6jumi+9aMPAG7ABnW46fRsdfpPpX4NLWVbQh3TvhpQIJ+gRxB3Lr90rOhiqIdlmpk4cJWwpQ/4v1rp104L0zkQW+UBNyLjRDvNRuUHuRpRkM8gJXyYVUwQo3oZsLebeZy5ILebOdzpoLefNBE0on1MmFuopr5GrCJBfy4qPeJBfyIlYxyYW8CLZMciEvosVQmqyTC3kR7mbNhRbAkYEBqyay5EJ9Q3hVE0rSzYUegD1LBtJMKEslF1ogrrxNeOuSc6F59LuHec+XKlXKUP835G8IanS10wAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOS0yN1QwNDo0MDowNCswMDowMFFlZxoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDktMjdUMDQ6NDA6MDQrMDA6MDAgON+mAAAAAElFTkSuQmCC",title:"Cut",disabled:function(){return t.isCutButtonDisabled()},action:function(){t.cut()}},copy:{name:"copy",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAA7klEQVRo3u2ZSw6CMBRFj4apcQMyZu0aEscO3JGagAvAATqQQOTTvlfiPQmTQuk9bdKXtCDSJAdKoAaayE+U8HeD4NEESsPwiwU2PW01sIsxMxMyLOrcjPgmGbbeASTgHcBLwKJO1MAZKKaG+7XNWdeJx3vMYALWdaIBTkNh52yj1nXiM+Y+lIBVnRg1zt/uQskgAW8k4I0EvJGANxLwRgLeSMAbCXizeoGspy3ps9Auq18BCXgjAW8k4E02o8+T78PdKFelHaqhF3NW4GoQuMsl5M8K2ksHq7uBG3AIPSM57aVDFTF4BRxjhBcheQHmPezLx9HoXgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOS0yN1QwNDozOTozNCswMDowMArEXrAAAAAElFTkSuQmCC",title:"Copy",disabled:function(){return t.isCopyButtonDisabled()},action:function(){t.copy()}},paste:{name:"paste",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAABG0lEQVRo3u2ZzWrCUBBGj9WtUNc1a99KfT1F6KYoXbgVq6+iQiK4TRcmoGKS3h/7WToHZhHIzP0OCVlkID4dYAxsgVNRG2AEtB9wXlR6wBeQV9QaeFWHrKLdEL6sFfCiDnuP8Q/ClzX8rVAJMAMyh3BlfQBvQB+Ye/RnwDswCAm/9zi4rP7NLN85h6LfmVnAoTEFcmDqI+Dz2lzWvJBIgEXgrLQqZKtGIG+4NycuTfPvZn3Kz5kLJqDGBNR0AnpbAb3R+PNPwATUmIAaE1BjAmpMQI0JqDEBNSagxgTUmIAaE1BjAmrq/swdge7Fdex9gAuVC466J7AUBr7l06dpwHnBFrIailE7rvdtTiScF2ypIHgKTELCG8Z/4BuHD+VLGLARSgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOS0yN1QwNDozOTo1MCswMDowMDjkcyQAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDktMjdUMDQ6Mzk6NTArMDA6MDCQATIWAAAAAElFTkSuQmCC",title:"Paste",disabled:function(){return t.isPasteButtonDisabled()},action:function(){t.paste()}},link:{name:"link",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAADHElEQVRo3u2ZzUsUYRzHP7uBSh0qLTtUKKuBQdGpOkSkFBQEnZLqYJEQBL0IEkT0B1QQhYc6mG1u18B7eRGtSxHUUahs7WZrmEX4Eurh2YHxO2+77szOCvuFYXlmvvP7fZ6Z53n2eZ6Bqqqqal0rEVPeOuAo0AQ0ADngO/AWmI/7ofgpBWSAv8Cyy/EHSAPNcYO6qRdY8ADXYx64HjewpSTwrEBwPfqCgm8oA3wa6Ha59g0YAoaBL0A9sFk8hzH940PEnJ7wgzifag7oxDmAJIEuYEb8c5jOXhHwk0BrwL37XSrxvFLgUwXG6JJ7Z4GacsFnSoS34mQlRsd6gbf0QuK4DQQkQ6zAAHBRzv0A2jEjTrGaknJDlBW4DVwOER5gu5R/hcTq0D7gP4U1mx3AAYIfXAKYoEx9YEgSTQEtLr5TwL+85zX+o8oFnKNQbRTw9cCiJDvt4R0WX7+HrxWYFm86CniA85Loo4/3Kc4R6ph4GjDTap3YNUdVgbuS7J6PdwswLv5R8WzKA9s9N8OCTQJtcu6xJOsJiHEIWLL5l4Cd4hkluJmtgioUPg2ck/O/pbw1IM57YMxWTgAnxPM5/5sBroZRAQv+EqbT2pWVcnsB8UakrDPN6Tx8N+YNlSz7YkST78LZJA4GxOthdbN7JNfbCHGG0CvJ5oCN4hkTzzimw3rpgfjvhAWrSuFcw04C28TXgXN4fOIT95N4z0ZVAZ1Z5vBejOia942H74z4FvB/W2tWHc6tj04ffw1merCMmS6cdPG0AD8l5qso4MEMbfZEXwneBEtiJmqNLtdSmOZnj7kI7I2qAlck2UAJsdzgl4FbYYB6DVf6h5QrAX4E2C3n08DDKCugi4fGoEBFwL/EvOFIdZzVrztLcX8uXs0mU2ScNasWs9FqT95VIvxgueAtpQVgBrPp5Kc9lQIPZhGhc/MZzM6DwiQwy0BdScUGb+mGC5DVJwaB+5j9mwkPX6zwlvo84IKO/kqAt3QNMxMt9ONEaMvAMNWE2SWe9QCP5fPQWj7y1QBH8qCNmH2gLPCOCv9AV1VVVVWgVgAPDHRgefYM4AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOS0xNlQxNDo1OTozMiswMDowMOFciqoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDktMTZUMTQ6NTk6MzIrMDA6MDCQATIWAAAAAElFTkSuQmCC",title:"Link",disabled:function(){return t.isLinkButtonDisabled()},action:function(){t.editLink()}},image:{name:"image",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAABzUlEQVRo3u2ZyUrDUBSGvzosxLEqqAj6AKJvIK58AKdncOXeCUdc+BKiILoQhYLgwpUg4hOIIu4UdyotKDi0LpJLQ8hNk7S9p4X7wYHCPWn+L0N7cwMWWRqr/P0bwARwJS2aNHzBrTXpMHHZdIN/u1UAVqRDJQk/BUx7JFalw8UNr5ihDs6ELrxiFvhxe5alw/rZKhE+SGJJOnTc8Io5j8RiuTtPlRgfBNaBcaBPs32X+/kXyEXcbwfF/6B3TU8OyODc+NkkcsPAM8Xfcql69BykWJzUQHhVe7qQYZdQFmhPYl4FPoB03I38R8EkvVH332A4WMWxAtJYAWmsgDRWQBorII0VkKbSAmmgW1pKkWQ6fQZcUv6SZeTpdCUFFjy9OyV6Sz2LGxcYA748vXmcJZQg+oFroKdWBNqA+4D+HDDi620Bbt3xc/T3oFGBQ/QP4w9Ap9uXAo5847oVOmMC8yHhVWXc8NsBY3/ApJTAKPAZQUBdLnnN2CswYFqgFbiLGD5K3QDNJgX2Kxhe1a5JgWpj14XqhroXaAoZy+Ks4ytM3wdedO8QQs/AhWBgP6dJNhoCXpB/N/BEcTqSSOIYZ33edPA34ABn9mqpWf4B0/l4sgdYXjsAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDktMTZUMTU6MDE6MTUrMDA6MDDZyIZqAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA5LTE2VDE1OjAxOjE1KzAwOjAwqJU+1gAAAABJRU5ErkJggg==",title:"Image",disabled:function(){return t.isImageButtonDisabled()},action:function(){t.editImage()}},head:{name:"head",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAADI0lEQVRo3u2ZT09TQRTFf4KtCRBNwJIodK0LdwgWd+BnMBDdgaisCYluXAqu1QBxSeKfGFeKSz6AAZMaNzRxYQWbKC6gKGWhdTGvyePOtH3TzrQYe5JZzOvMmXPfu3PvnSm00ML/jWOOeNqBIWAEGADOA2eAruD3PeArsAGsA6vAO+BPs19AEpgHNoGiZfsCzAH9zRCeAJaAgxqEy3YALACnGyX+GvDDgXDZtoFxn8JjwJMKAnaAp8ANYDD4SrGgJYJnU8AzYLcCz2Iwxyk6gLdlFtwAJoIxNnyTQKYM54olX9U3bxL/C5gBjtfJPQvsG/jf4OhLmNwmA1xw9YaAFCrMynUW6iW+biB9j/Jp1+gH0ob1xmolTKBHm4wn8WEjcmLN70BPLWRL6D7v0m3KIQUUxNqPbUmS6ElqpgHiS7gn1i5gmbHn0UNlPdHGFl3orjQXdXI7em0z0UDxJUwLDVmgLcrEYTFxB4dJxQKdQF5oGZKDTBaNiP4KagM3Gj+DtcMYjWLAgOivNkF8ubWlNqMB50Q/Lfpx4AEqc26hNnzc0xi5ttRmhExesk6XEaoYPPMxphc9qVWFjP/yrZhqlpynMSfQ88EhRApLAkXDs9+exlSFyYA90T8p+suGOcuexpwS/XwUoz5SOfbGUb66ReUN6mJMSmj5EMWAV2LSVJRJnnBLaHkpB5hcaE30R2kerlTRZoT8bLscnVJiMMrENtSlU3jiZBMMmBIaPmMRNefE5AwerjoqIA58Ehru2xD0oye02QYacAc9gfXZkiwIkn3U/vCNy+hHyoe1EHWjag+Z6pMexZ9FP0xtU8e96Th6vZLGz41yEpWo5HpX6yVeNJDmcOtOw+hn4CLwyAV5DHUykuQF1O1BZx3cceAuus8Xgdc4vEjoKGNE6WtMWxrSCdxED5Vh8c6TZww9MoVbHniOql8uoQ4j8aD1Bs9uAy/QM6x0G69XOGPo0clF+4aDDRsVPajrPpPv2rYCKs53N0p8GH2osiNbg/AsqjywzrBhuPqbtQ24iCq9B1C3B30c/pt1E1VTraGuS9Y5An+zttDCv46/K53XmFVUFdIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDktMjRUMDc6MTM6NTQrMDA6MDAX56YDAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA5LTI0VDA3OjEzOjU0KzAwOjAwZroevwAAAABJRU5ErkJggg==",title:"Edit head",disabled:function(){return t.isHeadButtonDisabled()},action:function(){t.editHead()}},save:{name:"save",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAABvklEQVRo3u2Zu0oDQRSGv0jUWKigTZAIYiH2Bn0FOx/AQiSVVV4hpYiVta3YeEGsLSwEo40+gRcQO4MXtIzF7uKyzGSzs3NmDcwPU+25/N/mZGaXBS8vL6//rEXgFPgAusKrZdv8LPDmwLgYxJFj89YhXIyNKESyqJSWUI/q9qAAiEHoAGyNiTiEawDrEEUA9IIYGACAlX7jSykAqlhbf+hSyvVuP/FDlswUJg9QtMoGOWmz61QD/wt4gKIlAVABmkAb+ArXNbAFjGSo85rXiMlRXgPu0Z++hxn6jwIN4DlD/1wAlRTzB8C4gY9p4NwFQLOH+V3ybb9GuVkB2ujvfCFnR1aAT0XOIzBh2L/qGuBbkbNu2LtO8E5gmm8EcJuIf8Jsm64DnbDGD7DsCmAzEW/yGhg3H60rVwBl4CYWv6qJm8lg/gGYcwUAMMXfblRTXG+FJuvS5k0BIJj7DWBYYT6qFYcQMZ8HQKedRL0OwaOCiHkJgBKwr6ib3LnmbZgHeE9plrbWFDXLwJkm3tqdj3SSE2BPU3cMuJQ2D7BAvg8cLwSPxCpNAneS5uMQx5iPU6NH7SpwIWney8vLS16/eT7oBHxeUFYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDktMTdUMTY6Mjk6NTQrMDA6MDCj7IdOAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA5LTE3VDE2OjI5OjU0KzAwOjAw0rE/8gAAAABJRU5ErkJggg==",icon2:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAABvklEQVRo3u2Zu0oDQRSGv0jUWKigTZAIYiH2Bn0FOx/AQiSVVV4hpYiVta3YeEGsLSwEo40+gRcQO4MXtIzF7uKyzGSzs3NmDcwPU+25/N/mZGaXBS8vL6//rEXgFPgAusKrZdv8LPDmwLgYxJFj89YhXIyNKESyqJSWUI/q9qAAiEHoAGyNiTiEawDrEEUA9IIYGACAlX7jSykAqlhbf+hSyvVuP/FDlswUJg9QtMoGOWmz61QD/wt4gKIlAVABmkAb+ArXNbAFjGSo85rXiMlRXgPu0Z++hxn6jwIN4DlD/1wAlRTzB8C4gY9p4NwFQLOH+V3ybb9GuVkB2ujvfCFnR1aAT0XOIzBh2L/qGuBbkbNu2LtO8E5gmm8EcJuIf8Jsm64DnbDGD7DsCmAzEW/yGhg3H60rVwBl4CYWv6qJm8lg/gGYcwUAMMXfblRTXG+FJuvS5k0BIJj7DWBYYT6qFYcQMZ8HQKedRL0OwaOCiHkJgBKwr6ib3LnmbZgHeE9plrbWFDXLwJkm3tqdj3SSE2BPU3cMuJQ2D7BAvg8cLwSPxCpNAneS5uMQx5iPU6NH7SpwIWney8vLS16/eT7oBHxeUFYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDktMTdUMTY6Mjk6NTQrMDA6MDCj7IdOAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA5LTE3VDE2OjI5OjU0KzAwOjAw0rE/8gAAAABJRU5ErkJggg==",title:"Save",disabled:function(){return t.isSaveButtonDisabled()},action:function(){t.save()}}},draggerIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAA+klEQVRo3u3ZUQ7CIBAE0NGDGOL9r+SHJ6k/bWJIkV3KDrvCJHx3XgwsrcDKiuukfYXMA8ALwBvAc3SZ1vLbvkIh8vKhEKXyIRC18q4R0vIuEdryrhCt5bshboa4jfGsuyGAkukAidDJ7BnHhpUm37DSmJxO36eNNaD7EZsflQxAN8TZOc8CXEaUhhQT0Iz4NWHZADXi6vXAaokQXssXEeEn8Vm8/grd9oE0wzZxDcEGdJ8FTIDJNGYBzO5DDIDpjdQaYPqynwgAzTPWS/3wTA/QTOy/+zrnonwrwlV5LcJleSnCdfkaIkT5EiJU+RwRsvyRhMB/dK9MkQ9aiYmYo9JGZAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOS0xNlQxMjoyOTo1MSswMDowMJ8FU+4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDktMTZUMTQ6Mjk6NTErMDA6MDDuWOtSAAAAAElFTkSuQmCC"};this.options=this.deepMerge(i,e),this.options.mutationGroupingWindowMs=this.options.mutationGroupingWindowMs/TIME_SCALE_FACTOR,this.editingEnabled=null,this.clipboard=null,this.editable=document.querySelector(this.options.editableContentSelectorContentSelectorContentSelector),this.editableInBody(),this.wrapEditable(),this.implement=document.querySelector("#ncsedt-implement"),this.implementToLastBody(),this.focusedElement=this.editable,this.previousFocusedElement=this.focusedElement,this.observer=this.setObserver(),this.historyUndo=[],this.historyRedo=[],this.historyForce=[],this.setEventEditorChanges()},ncSimpleHtmlEditor.prototype.deepMerge=function(e,t){for(key of Object.keys(t))e.hasOwnProperty(key)&&"object"==typeof t[key]?this.deepMerge(e[key],t[key]):e[key]=t[key];return e},ncSimpleHtmlEditor.prototype.isEditingEnabled=function(){return this.editingEnabled},ncSimpleHtmlEditor.prototype.getCurrentFocusedElement=function(){return this.focusedElement},ncSimpleHtmlEditor.prototype.getPreviousFocusedElement=function(){return this.previousFocusedElement},ncSimpleHtmlEditor.prototype.getEditable=function(e,t){return this.editable},ncSimpleHtmlEditor.prototype.getClipboard=function(e,t){return this.clipboard},ncSimpleHtmlEditor.prototype.editableInBody=function(){this.editable.contains(document.body)&&this.editable!=document.body&&(this.options.editableContentSelectorContentSelector="body",this.editable=document.querySelector(this.options.editableContentSelectorContentSelectorContentSelector))},ncSimpleHtmlEditor.prototype.wrapEditable=function(){this.editable=((e,t=document.createElement("ncsedt-editable"))=>([...e.childNodes].forEach((e=>t.appendChild(e))),e.appendChild(t),t))(this.editable),this.editable.id="ncsedt-editable",this.editable.setAttribute("contentEditable","true")},ncSimpleHtmlEditor.prototype.implementToLastBody=function(){var e=document.createDocumentFragment();e.appendChild(this.implement),document.body.appendChild(e),this.implement.insertAdjacentHTML("beforeend",'<div id="ncsedt-container"></div>'),this.implement.insertAdjacentHTML("beforebegin","\x3c!-- ncsedt-implement:begin --\x3e"),this.implement.insertAdjacentHTML("afterend","\x3c!-- ncsedt-implement:end --\x3e"),this.container=document.getElementById("ncsedt-container"),this.container.insertAdjacentHTML("beforebegin","\x3c!-- ncsedt-container:begin --\x3e"),this.container.insertAdjacentHTML("afterend","\x3c!-- ncsedt-container:end --\x3e")},ncSimpleHtmlEditor.prototype.start=function(){this.editOff(),this.tollbar=this.renderTollbar(),this.dialogCode=this.renderDialogCode(),this.dialogImage=this.renderDialogImage(),this.dialogLink=this.renderDialogLink(),this.dialogHead=this.renderDialogHead(),this.movable("#ncsedt-toolbar","#ncsedt-toolbar-dragger"),this.movable("#ncsedt-dialog-code","#ncsedt-dialog-code .dragger"),this.movable("#ncsedt-dialog-image","#ncsedt-dialog-image .dragger"),this.movable("#ncsedt-dialog-link","#ncsedt-dialog-link .dragger"),this.movable("#ncsedt-dialog-head","#ncsedt-dialog-head .dragger"),this.setEvents(),this.setEventsToolbar(),this.setEventsDialogCode(),this.setEventsDialogImage(),this.setEventsDialogLink(),this.setEventsDialogHead(),document.dispatchEvent(new Event("editorstart"))},ncSimpleHtmlEditor.prototype.editOn=function(){var e=document.querySelectorAll(".ncsedt-toolbar-btn-edit img");for(element of(this.editable.setAttribute("contentEditable","true"),e))element.src=this.options.buttons.edit.icon2;this.editingEnabled=!0,this.setFocus(this.focusedElement),this.observe(),document.dispatchEvent(new Event("editorchanges"))},ncSimpleHtmlEditor.prototype.editOff=function(){this.observer.disconnect();var e=document.querySelectorAll("*[contentEditable]"),t=document.querySelectorAll(".ncsedt-toolbar-btn-edit img");for(element of e)element.setAttribute("contentEditable","false");for(element of t)element.src=this.options.buttons.edit.icon;for(focused of document.querySelectorAll(".focused"))focused.classList.remove("focused");this.editingEnabled=!1,document.dispatchEvent(new Event("editorchanges"))},ncSimpleHtmlEditor.prototype.setFocus=function(e){if(this.editingEnabled&&e&&e.isContentEditable){for(oldfocused of document.querySelectorAll(".focused"))oldfocused.classList.remove("focused");this.previousFocusedElement=this.focusedElement,this.focusedElement=e,this.focusedElement.focus(),this.focusedElement.classList.add("focused"),document.dispatchEvent(new Event("focusedchange"))}},ncSimpleHtmlEditor.prototype.save=function(){var e=this,t=this.getDocumentHTML(),i=document.createElement("a"),o=document.querySelectorAll(".ncsedt-toolbar-btn-save img");for(button of(this.saving=!0,this.editOff(),o))button.src=this.options.buttons.save.icon2,button.parentNode.disabled=!0;i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),i.setAttribute("download","index.html"),this.container.appendChild(i),i.click(),setTimeout((function(){for(button of(e.saving=!1,o))button.src=e.options.buttons.save.icon,button.parentNode.disabled=!1}),this.options.saveTimeout),this.container.removeChild(i),this.editOn()},ncSimpleHtmlEditor.prototype.getDocumentHTML=function(e=null){var t="";return window.scrollTo({top:0,left:0,behavior:"instant"}),this.restorable.restore(),this.removable(),t=e?document.querySelector(e).innerHTML:(new XMLSerializer).serializeToString(document),this.undoRemovable(),this.restorable.undoRestore(),this.ncsedtRemover(t)},ncSimpleHtmlEditor.prototype.ncsedtRemover=function(e){return e=(e=(e=(e=(e=e.replace(/<ncsedt-removable>\s*<\/ncsedt-removable>/gis,"")).replace(/<!--\s*ncsedt-implement:before\s*-->.*<\/ncsedt-editable>/gis,"</ncsedt-editable>")).replace(/<!--\s*ncsedt-implement:begin\s*-->.*<!--\s*ncsedt-implement:end\s*-->/gis,"")).replace(/<!--\s*ncsedt-container:begin\s*-->.*<!--\s*ncsedt-container:end\s*-->/gis,"")).replace(/<\/?ncsedt-editable[^>]*>/gis,"")},ncSimpleHtmlEditor.prototype.removable=function(){var e=this,t=0;this.removableHtml=[],document.querySelectorAll("ncsedt-removable").forEach((function(i){e.removableHtml[t++]=i.innerHTML,i.innerHTML=""}))},ncSimpleHtmlEditor.prototype.undoRemovable=function(){var e=this,t=0;document.querySelectorAll("ncsedt-removable").forEach((function(i){i.innerHTML=e.removableHtml[t++]}))},ncSimpleHtmlEditor.prototype.editToggle=function(){this.editingEnabled?this.editOff():this.editOn()},ncSimpleHtmlEditor.prototype.undo=function(){this.undoredo(!0)},ncSimpleHtmlEditor.prototype.redo=function(){this.undoredo(!1)},ncSimpleHtmlEditor.prototype.up=function(){this.focusedElement.parentElement&&(this.setFocus(this.focusedElement.parentElement),this.focusedElement.scrollIntoView({block:"center"}))},ncSimpleHtmlEditor.prototype.down=function(){this.focusedElement.firstElementChild&&(this.setFocus(this.focusedElement.firstElementChild),this.focusedElement.scrollIntoView({block:"center"}))},ncSimpleHtmlEditor.prototype.copy=function(){this.focusedElement!=this.editable&&(this.clipboard=this.focusedElement.outerHTML,document.dispatchEvent(new Event("editorchanges")))},ncSimpleHtmlEditor.prototype.cut=function(){this.focusedElement!=this.editable&&(this.clipboard=this.focusedElement.outerHTML,this.focusedElement.parentElement.removeChild(this.focusedElement),this.setFocus(this.focusedElement.parentElement))},ncSimpleHtmlEditor.prototype.paste=function(){this.clipboard&&this.focusedElement!=this.editable&&this.focusedElement.insertAdjacentHTML("afterend",this.clipboard)},ncSimpleHtmlEditor.prototype.isEditButtonDisabled=function(){return!1},ncSimpleHtmlEditor.prototype.isSaveButtonDisabled=function(){return!this.editingEnabled||this.saving},ncSimpleHtmlEditor.prototype.isUndoButtonDisabled=function(){return!this.isEditingEnabled()||!this.hasUndoHistory()},ncSimpleHtmlEditor.prototype.hasUndoHistory=function(){return this.historyUndo.length>0},ncSimpleHtmlEditor.prototype.isRedoButtonDisabled=function(){return!this.isEditingEnabled()||!this.hasRedoHistory()},ncSimpleHtmlEditor.prototype.hasRedoHistory=function(){return this.historyRedo.length>0},ncSimpleHtmlEditor.prototype.isUpButtonDisabled=function(){return!this.editingEnabled||!this.canMoveUp()},ncSimpleHtmlEditor.prototype.canMoveUp=function(){return this.focusedElement.parentElement&&this.focusedElement.parentElement.isContentEditable},ncSimpleHtmlEditor.prototype.isDownButtonDisabled=function(){return!this.editingEnabled||!this.canMoveDown()},ncSimpleHtmlEditor.prototype.canMoveDown=function(){return this.focusedElement.firstElementChild},ncSimpleHtmlEditor.prototype.isCutButtonDisabled=function(){return!this.editingEnabled||this.focusedElement==this.editable},ncSimpleHtmlEditor.prototype.isCopyButtonDisabled=function(){return!this.editingEnabled||this.focusedElement==this.editable},ncSimpleHtmlEditor.prototype.isPasteButtonDisabled=function(){return!this.editingEnabled||!this.clipboard||this.focusedElement==this.editable},ncSimpleHtmlEditor.prototype.isLinkButtonDisabled=function(){return!this.editingEnabled},ncSimpleHtmlEditor.prototype.isImageButtonDisabled=function(){return!this.editingEnabled},ncSimpleHtmlEditor.prototype.isHeadButtonDisabled=function(){return!this.editingEnabled},ncSimpleHtmlEditor.prototype.isCodeButtonDisabled=function(){return!this.editingEnabled},ncSimpleHtmlEditor.prototype.validateOptions=function(e){if(e.editableContentSelector&&"string"!=typeof e.editableContentSelector)throw new Error('Option "editable" must be a string selector');if(e.maxImageSizeBytes&&"number"!=typeof e.maxImageSizeBytes)throw new Error('Option "maxImageUpload" must be a number');if(e.toolbar&&!Array.isArray(e.toolbar))throw new Error('Option "toolbar" must be an array');e.mutationGroupingWindowMs&&(e.mutationGroupingWindowMs=Math.max(MIN_GROUPING_WINDOW_MS,e.mutationGroupingWindowMs)),e.maxImageSizeBytes&&(e.maxImageSizeBytes=Math.min(e.maxImageSizeBytes,MAX_ALLOWED_IMAGE_SIZE_BYTES))},ncSimpleHtmlEditor.prototype.setObserver=function(){return new MutationObserver((function(e){_this.editingEnabled&&!_this.ignoreMutations&&(e.forEach((function(e){switch(e.time=Date.now()/TIME_SCALE_FACTOR,e.type){case"characterData":e.newValue=e.target.nodeValue,_this.historyUndo.push(e),_this.resetLinearHistory(),document.dispatchEvent(new Event("contentchanges"));break;case"attributes":var t=e.attributeName,i=e.target.getAttribute(e.attributeName);(_this.focusedElement.contains(e.target)||document.head.contains(e.target))&&_this.historyForceCheck(t,i)&&(e.newValue=i,_this.historyUndo.push(e),_this.historyForceRemove(t,i),_this.resetLinearHistory(),document.dispatchEvent(new Event("contentchanges")));break;case"childList":_this.historyUndo.push(e),_this.resetLinearHistory(),document.dispatchEvent(new Event("contentchanges"));break}})),document.dispatchEvent(new Event("editorchanges")))}))},ncSimpleHtmlEditor.prototype.observe=function(){this.observer.observe(this.editable,{attributes:!0,characterData:!0,childList:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.options.toolbar.includes("head")&&this.observer.observe(document.head,{attributes:!0,characterData:!0,childList:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})},ncSimpleHtmlEditor.prototype.resetLinearHistory=function(){this.historyRedo.length&&this.options.usesLinearUndoHistory&&(this.historyRedo=[])},ncSimpleHtmlEditor.prototype.historyForcePush=function(e,t){var i=e+":"+t.toString();this.historyForce.push(i)},ncSimpleHtmlEditor.prototype.historyForceCheck=function(e,t){var i=e+":"+(t||"").toString();return this.historyForce.includes(i)},ncSimpleHtmlEditor.prototype.historyForceRemove=function(e,t){var i=e+":"+t.toString();this.historyForce.includes(i)&&this.historyForce.splice(this.historyForce.indexOf(i),1)},ncSimpleHtmlEditor.prototype.undoredo=function(e){this.observer.disconnect();for(var t=null;;){if(e){if(!this.historyUndo.length)break;var i=this.historyUndo.pop();if(this.historyRedo.push(i),t&&i.time+_this.options.mutationGroupingWindowMs<t){this.historyUndo.push(i),this.historyRedo.pop();break}}else{if(!this.historyRedo.length)break;if(i=this.historyRedo.pop(),this.historyUndo.push(i),t&&i.time-_this.options.mutationGroupingWindowMs>t){this.historyRedo.push(i),this.historyUndo.pop();break}}switch(i.type){case"characterData":(i.target.parentElement.parentElement.parentElement||i.target.parentElement.parentElement||i.target.parentElement).scrollIntoView({block:"center"}),this.setFocus(i.target.parentElement),i.target.textContent=e?i.oldValue:i.newValue;break;case"attributes":i.target.scrollIntoView({block:"center"}),this.setFocus(i.target);var o=e?i.oldValue:i.newValue;null===o?i.target.removeAttribute(i.attributeName):i.target.setAttribute(i.attributeName,o);break;case"childList":i.target.scrollIntoView({block:"center"}),this.setFocus(i.target);var n=e?i.removedNodes:i.addedNodes,s=e?i.addedNodes:i.removedNodes;Array.from(n).forEach(i.nextSibling?e=>{i.nextSibling.parentNode.insertBefore(e,i.nextSibling)}:e=>{i.target.appendChild(e)}),Array.from(s).forEach((function(e){e.parentNode.removeChild(e)}));break}t=i.time}this.observe(),document.dispatchEvent(new Event("editorchanges")),document.dispatchEvent(new Event("contentchanges"))},ncSimpleHtmlEditor.prototype.setEventEditorChanges=function(){var e=this;document.addEventListener("editorchanges",(function(){e.setDisabledBtns()}))},ncSimpleHtmlEditor.prototype.setEvents=function(){var e=this;this.editable.addEventListener("click",(function(t){e.focusedElement!=t.target&&e.setFocus(t.target)}),!0),this.editable.addEventListener("input",(function(t){"insertParagraph"==t.inputType&&setTimeout((function(){e.setFocus(document.getSelection().anchorNode)}),50)}),!0),this.editable.addEventListener("dblclick",(function(){"A"==e.focusedElement.tagName||"A"==e.focusedElement.parentElement.tagName?e.command(e.options.buttons.link):"IMG"==e.focusedElement.tagName||"IMG"==e.focusedElement.parentElement.tagName?e.command(e.options.buttons.image):e.command(e.options.buttons.code)}),!0),document.addEventListener("contentchanges",(function(){window.onbeforeunload=function(e){return e.returnValue="",""}}))},ncSimpleHtmlEditor.prototype.setEventsToolbar=function(){for(var e of(_this=this,this.options.toolbar)){var t=this.options.buttons[e],i=document.querySelectorAll(".ncsedt-toolbar-btn-"+t.name);for(btn of i)btn.addEventListener("click",o(t))}function o(e){return function(t){_this.command(e)}}},ncSimpleHtmlEditor.prototype.command=function(e){e.action()},ncSimpleHtmlEditor.prototype.setDisabledBtns=function(){for(var e of this.options.toolbar){var t=this.options.buttons[e],i=document.querySelectorAll(".ncsedt-toolbar-btn-"+t.name);for(button of i)button.disabled=t.disabled()}},ncSimpleHtmlEditor.prototype.movable=function(e,t){new ncSimpleMoveable(e,t)},ncSimpleHtmlEditor.prototype.renderTollbar=function(){var e=document.createElement("toolbar");for(var t of(e.id="ncsedt-toolbar",e.classList.add("ncsedt-toolbar"),e.innerHTML='<button class="ncsedt-toolbar-dragger ncsedt-toolbar-btn" id="ncsedt-toolbar-dragger">   <img class="ncsedt-toolbar-icon-dragger ncsedt-toolbar-icon" src="'+this.options.draggerIcon+'" title="Move"></button>',this.options.toolbar)){var i=this.options.buttons[t],o=document.createElement("button");o.classList.add("ncsedt-toolbar-btn"),o.classList.add("ncsedt-toolbar-btn-"+i.name),o.disabled=i.disabled(),o.innerHTML='<img class="ncsedt-toolbar-icon" src="'+i.icon+'" title="'+i.title+'">',e.append(o)}if(this.container.append(e),this.options.toolbarCols){var n=window.getComputedStyle(e),s=parseInt(n.getPropertyValue("padding")),l=parseInt(n.getPropertyValue("border"));e.style.width=42*this.options.toolbarCols+2*s+2*l+"px"}return e},ncSimpleHtmlEditor.prototype.renderDialogCode=function(){var e='<dialog id="ncsedt-dialog-code" class="ncsedt-dialog">    <div class="ncsedt-btns">       <div class="ncsedt-btns-left">           <button type="button" class="sbutton dragger"><img class="" src="'+this.options.draggerIcon+'" title="Move"> <span>Edit source code</span></button>       </div>       <div class="ncsedt-btns-right">           <button type="button" class="sbutton cancel"> <b>&Cross;</b> </button>       </div>   </div>   <div class="body">       <textarea class="code sbutton" placeholder=" ( empty ) "></textarea>   </div>   <div class="ncsedt-btns">       <div class="ncsedt-btns-left">           <button type="button" class="sbutton parent">&Uparrow;</button>           <button type="button" class="sbutton child">&Downarrow;</button>           <button type="button" class="sbutton link"><img class="" src="'+this.options.buttons.link.icon+'" title="Edit link"></button>           <button type="button" class="sbutton image"><img class="" src="'+this.options.buttons.image.icon+'" title="Edit image"></button>       </div>       <div class="ncsedt-btns-right">           <button type="button" class="sbutton confirm">&check; Ok</button>       </div>   </div></dialog>';return this.container.insertAdjacentHTML("beforeend",e),document.getElementById("ncsedt-dialog-code")},ncSimpleHtmlEditor.prototype.setEventsDialogCode=function(){var e=this;document.querySelector("#ncsedt-dialog-code .cancel").addEventListener("click",(function(){e.dialogCode.close()})),document.querySelector("#ncsedt-dialog-code .parent").addEventListener("click",(function(){e.editCodeParent()})),document.querySelector("#ncsedt-dialog-code .child").addEventListener("click",(function(){e.editCodeChild()})),document.querySelector("#ncsedt-dialog-code .confirm").addEventListener("click",(function(){e.editCodeConfirm()})),document.querySelector("#ncsedt-dialog-code .link").addEventListener("click",(function(){e.dialogCode.open&&e.dialogCode.close(),e.command(e.options.buttons.link)})),document.querySelector("#ncsedt-dialog-code .image").addEventListener("click",(function(){e.dialogCode.open&&e.dialogCode.close(),e.setFocus(e.focusedElement.querySelector("img")),e.command(e.options.buttons.image)}))},ncSimpleHtmlEditor.prototype.editCode=function(){this.editingEnabled&&(this.focusedElement.querySelector("img")||this.focusedElement.parentElement.querySelector("img")?this.dialogCode.querySelector("#ncsedt-dialog-code .image").style.visibility="visible":this.dialogCode.querySelector("#ncsedt-dialog-code .image").style.visibility="hidden",window.getSelection().toString()||this.focusedElement.querySelector("a")||this.focusedElement.parentElement.querySelector("a")?this.dialogCode.querySelector("#ncsedt-dialog-code .link").style.visibility="visible":this.dialogCode.querySelector("#ncsedt-dialog-code .link").style.visibility="hidden",this.dialogCode.querySelector("textarea.code").value=this.focusedElement.innerHTML,this.dialogCode.open||this.dialogCode.showModal())},ncSimpleHtmlEditor.prototype.editCodeConfirm=function(){this.editingEnabled&&(this.dialogCode.open&&this.dialogCode.close(),this.focusedElement.isContentEditable&&this.focusedElement.innerHTML!=this.dialogCode.querySelector("textarea.code").value&&(this.focusedElement.innerHTML=this.dialogCode.querySelector("textarea.code").value))},ncSimpleHtmlEditor.prototype.editCodeParent=function(){this.editingEnabled&&this.focusedElement.parentElement&&this.focusedElement.parentElement.isContentEditable&&(this.setFocus(this.focusedElement.parentElement),this.editCode())},ncSimpleHtmlEditor.prototype.editCodePrev=function(){this.editingEnabled&&this.focusedElementPrev&&this.focusedElementPrev.isContentEditable&&(this.setFocus(this.focusedElementPrev),this.editCode())},ncSimpleHtmlEditor.prototype.editCodeChild=function(){this.editingEnabled&&this.focusedElement.firstElementChild&&this.focusedElement.firstElementChild.isContentEditable&&(this.setFocus(this.focusedElement.firstElementChild),this.editCode())},ncSimpleHtmlEditor.prototype.renderDialogImage=function(){var e='<dialog id="ncsedt-dialog-image" class="ncsedt-dialog">    <div class="ncsedt-btns">       <div class="ncsedt-btns-left">           <button type="button" class="sbutton dragger"><img class="" src="'+this.options.draggerIcon+'" title="Move"> <span id="ncsedt-dialog-image-title">Edit image</span></button>       </div>       <div class="ncsedt-btns-right">           <button type="button" class="sbutton cancel"> <b>&Cross;</b> </button>       </div>   </div>   <div class="body">       <div class="preview">           <img class="image" src="'+this.options.buttons.image.icon+'">           <button id="ncsedt-dialog-image-upload" type="button" class="upload sbutton">&UpArrowBar; Upload</button>           <input id="ncsedt-dialog-image-file" class="file" accept="image/*" type="file" />       </div>       <label for="ncsedt-dialog-image-src">Image URL:</label>       <input id="ncsedt-dialog-image-src" class="src sbutton" type="text">       <div class="separator"></div>       <label for="ncsedt-dialog-image-alt">Alt. text:</label>       <input id="ncsedt-dialog-image-alt" class="alt sbutton" type="text">       <div class="separator"></div>       <input size="3" id="ncsedt-dialog-image-width" class="width sbutton" type="text" placeholder="auto">       <button type="button" class="sbutton style-width" value="100%">&longleftrightarrow;</button>       <button type="button" class="sbutton style-width" value="50%">50%</button>       <button type="button" class="sbutton style-width" value="25%">25%</button>       <button type="button" class="sbutton style-width" value="">&circlearrowleft;</button>       <div class="separator"></div>       <input size="3" id="ncsedt-dialog-image-height" class="height sbutton style-height" type="text" placeholder="auto">       <button type="button" class="sbutton style-height" value="100%">&UpDownArrow;</button>       <button type="button" class="sbutton style-height" value="">&circlearrowleft;</button>       <div class="separator"></div>       <input size="3" id="ncsedt-dialog-image-float" class="float sbutton style-float" type="text" placeholder="no">       <button type="button" class="sbutton style-float" value="left">&looparrowleft;</button>       <button type="button" class="sbutton style-float" value="right">&looparrowright;</button>       <button type="button" class="sbutton style-float" value="">&circlearrowleft;</button>       <div class="separator"></div>       <input size="3" id="ncsedt-dialog-image-padding" class="padding sbutton style-padding" type="text" placeholder="no">       <button type="button" class="sbutton style-padding" value="10px">&sdotb;</button>       <button type="button" class="sbutton style-padding" value="">&circlearrowleft;</button>       <div class="image-remove">           <div class="separator"></div>           <label for="ncsedt-dialog-image-remove">Remove image:</label>           <input id="ncsedt-dialog-image-remove" class="remove" type="checkbox">       </div>   </div>   <div class="ncsedt-btns">       <div class="ncsedt-btns-left">           <button type="button" class="sbutton parent">&Uparrow;</button>           <button type="button" class="sbutton child">&Downarrow;</button>           <button type="button" class="sbutton code"><img class="" src="'+this.options.buttons.code.icon+'" title="Edit code"></button>           <button type="button" class="sbutton link"><img class="" src="'+this.options.buttons.link.icon+'" title="Edit link"></button>       </div>       <div class="ncsedt-btns-right">           <button type="button" class="sbutton confirm">&check; Ok</button>       </div>   </div></dialog>';return this.container.insertAdjacentHTML("beforeend",e),document.getElementById("ncsedt-dialog-image")},ncSimpleHtmlEditor.prototype.setEventsDialogImage=function(){var e=this;document.querySelector("#ncsedt-dialog-image .cancel").addEventListener("click",(function(){e.dialogImage.close()})),document.querySelector("#ncsedt-dialog-image .confirm").addEventListener("click",(function(){e.editImageConfirm()})),document.querySelector("#ncsedt-dialog-image .parent").addEventListener("click",(function(){e.editImageParent()})),document.querySelector("#ncsedt-dialog-image .child").addEventListener("click",(function(){e.editImageChild()})),document.querySelector("#ncsedt-dialog-image .code").addEventListener("click",(function(){e.dialogImage.open&&e.dialogImage.close(),e.command(e.options.buttons.code)})),document.querySelector("#ncsedt-dialog-image .link").addEventListener("click",(function(){e.dialogImage.open&&e.dialogImage.close(),e.command(e.options.buttons.link)})),document.querySelector("#ncsedt-dialog-image .upload").addEventListener("click",(function(){document.querySelector("#ncsedt-dialog-image-file").dispatchEvent(new MouseEvent("click"))})),document.querySelector("#ncsedt-dialog-image-file").addEventListener("change",(function(t){if(this.files[0].size>e.options.maxImageSizeBytes){var i=(e.options.maxImageSizeBytes/1024/1024).toFixed(1);return alert("File is too big! "+i+"Mb. max. (Use .webp format)"),this.value="",!1}var o=new window.FileReader;o.readAsDataURL(this.files[0]),o.onloadend=function(){e.dialogImage.querySelector("#ncsedt-dialog-image .image").src=o.result,e.dialogImage.querySelector("#ncsedt-dialog-image .src").value="data:image/..."}})),document.querySelectorAll("#ncsedt-dialog-image button.style-width").forEach((function(t){t.addEventListener("click",(function(t){e.dialogImage.querySelector("#ncsedt-dialog-image-width").value=t.target.value}))})),document.querySelectorAll("#ncsedt-dialog-image button.style-height").forEach((function(t){t.addEventListener("click",(function(t){e.dialogImage.querySelector("#ncsedt-dialog-image-height").value=t.target.value}))})),document.querySelectorAll("#ncsedt-dialog-image button.style-float").forEach((function(t){t.addEventListener("click",(function(t){e.dialogImage.querySelector("#ncsedt-dialog-image-float").value=t.target.value,t.target.value?e.dialogImage.querySelector("#ncsedt-dialog-image-padding").value="10px":e.dialogImage.querySelector("#ncsedt-dialog-image-padding").value=""}))})),document.querySelectorAll("#ncsedt-dialog-image button.style-padding").forEach((function(t){t.addEventListener("click",(function(t){e.dialogImage.querySelector("#ncsedt-dialog-image-padding").value=t.target.value}))}))},ncSimpleHtmlEditor.prototype.editImage=function(){this.editingEnabled&&("IMG"==this.focusedElement.parentElement.tagName&&this.editImageParent(),this.focusedElement.firstElementChild&&this.focusedElement.lastElementChild&&"IMG"==this.focusedElement.firstElementChild.tagName&&"IMG"==this.focusedElement.lastElementChild.tagName&&this.editImageChild(),this.currentSelection=window.getSelection(),this.currentRange=this.currentSelection.getRangeAt(0),this.dialogImage.querySelector("#ncsedt-dialog-image-remove").checked=!1,"IMG"==this.focusedElement.tagName?(window.getComputedStyle(this.focusedElement),this.dialogImage.querySelector("#ncsedt-dialog-image-title").innerHTML="Image (Edit)",this.dialogImage.querySelector(".preview img").src=this.focusedElement.src,this.focusedElement.getAttribute("src").startsWith("data:image/")?this.dialogImage.querySelector("#ncsedt-dialog-image-src").value="data:image/...":this.dialogImage.querySelector("#ncsedt-dialog-image-src").value=this.focusedElement.getAttribute("src"),this.dialogImage.querySelector("#ncsedt-dialog-image-alt").value=this.focusedElement.getAttribute("alt"),this.dialogImage.querySelector("#ncsedt-dialog-image-width").value=this.focusedElement.style.width,this.dialogImage.querySelector("#ncsedt-dialog-image-height").value=this.focusedElement.style.height,this.dialogImage.querySelector("#ncsedt-dialog-image-float").value=this.focusedElement.style.float,this.dialogImage.querySelector("#ncsedt-dialog-image-padding").value=this.focusedElement.style.padding,this.dialogImage.querySelector("#ncsedt-dialog-image .image-remove").style.visibility="visible"):(this.dialogImage.querySelector("#ncsedt-dialog-image-title").innerHTML="Image (CREATE)",this.dialogImage.querySelector(".preview img").src=this.options.buttons.image.icon,this.dialogImage.querySelector("#ncsedt-dialog-image-src").value="",this.dialogImage.querySelector("#ncsedt-dialog-image-alt").value="",this.dialogImage.querySelector("#ncsedt-dialog-image-width").value="",this.dialogImage.querySelector("#ncsedt-dialog-image-height").value="",this.dialogImage.querySelector("#ncsedt-dialog-image-float").value="",this.dialogImage.querySelector("#ncsedt-dialog-image-padding").value="",this.dialogImage.querySelector("#ncsedt-dialog-image .image-remove").style.visibility="hidden"),this.dialogImage.open||this.dialogImage.showModal())},ncSimpleHtmlEditor.prototype.editImageConfirm=function(){this.dialogImage.open&&this.dialogImage.close(),this.editingEnabled&&this.focusedElement.isContentEditable&&("IMG"==this.focusedElement.tagName?this.dialogImage.querySelector("#ncsedt-dialog-image-remove").checked?this.focusedElement.outerHTML=this.focusedElement.innerHTML:this.editImageConfirmExisting():this.editImageConfirmNew())},ncSimpleHtmlEditor.prototype.editImageConfirmExisting=function(){var e=this.dialogImage.querySelector("#ncsedt-dialog-image-src").value,t=this.dialogImage.querySelector("#ncsedt-dialog-image-alt").value,i=this.dialogImage.querySelector("#ncsedt-dialog-image-width").value,o=this.dialogImage.querySelector("#ncsedt-dialog-image-height").value,n=this.dialogImage.querySelector("#ncsedt-dialog-image-float").value,s=this.dialogImage.querySelector("#ncsedt-dialog-image-padding").value,l=this.focusedElement.getAttribute("src"),d=this.focusedElement.getAttribute("alt"),a=this.focusedElement.style.width,A=this.focusedElement.style.height,r=this.focusedElement.style.float,c=this.focusedElement.style.padding;i&&!isNaN(i)&&(i+="%"),o&&!isNaN(o)&&(o+="%"),s&&!isNaN(s)&&(s+="px"),l!=e&&("data:image/..."==e&&(e=this.dialogImage.querySelector("#ncsedt-dialog-image .image").src),this.historyForcePush("src",e),this.focusedElement.setAttribute("src",e)),d!=t&&(this.historyForcePush("alt",t),this.focusedElement.setAttribute("alt",t)),a!=i&&(this.focusedElement.style.width=i,this.historyForcePush("style",this.focusedElement.style.cssText)),A!=o&&(this.focusedElement.style.height=o,this.historyForcePush("style",this.focusedElement.style.cssText)),r!=n&&(this.focusedElement.style.float=n,this.historyForcePush("style",this.focusedElement.style.cssText)),c!=s&&(this.focusedElement.style.padding=s,this.historyForcePush("style",this.focusedElement.style.cssText))},ncSimpleHtmlEditor.prototype.editImageConfirmNew=function(){var e=this.dialogImage.querySelector("#ncsedt-dialog-image-src").value,t=this.dialogImage.querySelector("#ncsedt-dialog-image-alt").value,i=this.dialogImage.querySelector("#ncsedt-dialog-image-width").value,o=this.dialogImage.querySelector("#ncsedt-dialog-image-height").value,n=this.dialogImage.querySelector("#ncsedt-dialog-image-float").value,s=this.dialogImage.querySelector("#ncsedt-dialog-image-padding").value;if(isNaN(i)||(i+="%"),isNaN(o)||(o+="%"),e){"data:image/..."==e&&(e=this.dialogImage.querySelector("#ncsedt-dialog-image .image").src);var l=document.createElement("img");l.setAttribute("src",e),l.setAttribute("alt",t),l.style.width=i,l.style.height=o,l.style.float=n,l.style.padding=s,this.currentRange.surroundContents(l)}},ncSimpleHtmlEditor.prototype.editImageParent=function(){this.editingEnabled&&(this.focusedElement.parentElement&&this.focusedElement.parentElement.isContentEditable?(this.setFocus(this.focusedElement.parentElement),this.editImage()):this.focusedElement.parentElement.parentElement&&this.focusedElement.parentElement.parentElement.querySelector("img")&&this.focusedElement.parentElement.parentElement.isContentEditable?(this.setFocus(this.focusedElement.parentElement.parentElement.querySelector("img")),this.editImage()):this.focusedElement.previousElementSibling&&"IMG"==this.focusedElement.previousElementSibling.tagName&&this.focusedElement.previousElementSibling.isContentEditable&&(this.setFocus(this.focusedElement.previousElementSibling),this.editImage()))},ncSimpleHtmlEditor.prototype.editImageChild=function(){this.editingEnabled&&(this.focusedElement.querySelector("img")?(this.setFocus(this.focusedElement.querySelector("img")),this.editImage()):this.focusedElement.nextElementSibling&&"IMG"==this.focusedElement.nextElementSibling.tagName&&this.focusedElement.nextElementSibling.isContentEditable&&(this.setFocus(this.focusedElement.nextElementSibling),this.editImage()))},ncSimpleHtmlEditor.prototype.renderDialogLink=function(){var e='<dialog id="ncsedt-dialog-link" class="ncsedt-dialog">    <div class="ncsedt-btns">       <div class="ncsedt-btns-left">           <button type="button" class="sbutton dragger"><img class="" src="'+this.options.draggerIcon+'" title="Move"> <span id="ncsedt-dialog-link-title">Edit link</span></button>       </div>       <div class="ncsedt-btns-right">           <button type="button" class="sbutton cancel"> <b>&Cross;</b> </button>       </div>   </div>   <div class="body">       <label for="ncsedt-dialog-link-anchor">Anchor:</label>       <textarea id="ncsedt-dialog-link-anchor" rows="2" class="anchor sbutton" placeholder=" ( empty ) "></textarea>       <label for="ncsedt-dialog-link-href">URL:</label>       <input id="ncsedt-dialog-link-href" class="href sbutton" type="text">       <label for="ncsedt-dialog-link-target">Open in new:</label>       <input id="ncsedt-dialog-link-target" class="target" type="checkbox">       <div class="link-remove" style="float: right">           <label for="ncsedt-dialog-link-remove">Remove link:</label>           <input id="ncsedt-dialog-link-remove" class="remove" type="checkbox">       </div>   </div>   <div class="ncsedt-btns">       <div class="ncsedt-btns-left">           <button type="button" class="sbutton parent">&Uparrow;</button>           <button type="button" class="sbutton child">&Downarrow;</button>           <button type="button" class="sbutton code"><img class="" src="'+this.options.buttons.code.icon+'" title="Edit code"></button>           <button type="button" class="sbutton image"><img class="" src="'+this.options.buttons.image.icon+'" title="Edit image"></button>       </div>       <div class="ncsedt-btns-right">           <button type="button" class="sbutton confirm">&check; Ok</button>       </div>   </div></dialog>';return this.container.insertAdjacentHTML("beforeend",e),document.getElementById("ncsedt-dialog-link")},ncSimpleHtmlEditor.prototype.setEventsDialogLink=function(){var e=this;document.querySelector("#ncsedt-dialog-link .cancel").addEventListener("click",(function(){e.dialogLink.close()})),document.querySelector("#ncsedt-dialog-link .parent").addEventListener("click",(function(){e.editLinkParent()})),document.querySelector("#ncsedt-dialog-link .child").addEventListener("click",(function(){e.editLinkChild()})),document.querySelector("#ncsedt-dialog-link .confirm").addEventListener("click",(function(){e.editLinkConfirm()})),document.querySelector("#ncsedt-dialog-link .code").addEventListener("click",(function(){e.dialogLink.open&&e.dialogLink.close(),e.command(e.options.buttons.code)})),document.querySelector("#ncsedt-dialog-link .image").addEventListener("click",(function(){e.dialogLink.open&&e.dialogLink.close(),e.command(e.options.buttons.image)}))},ncSimpleHtmlEditor.prototype.editLink=function(){if(this.editingEnabled){if(this.currentSelection=window.getSelection(),this.currentRange=this.currentSelection.getRangeAt(0),"A"==this.focusedElement.parentElement.tagName&&this.editLinkParent(),this.focusedElement.firstElementChild&&this.focusedElement.lastElementChild&&("A"!=this.focusedElement.firstElementChild.tagName||"A"!=this.focusedElement.lastElementChild.tagName||this.currentSelection.toString()||this.editLinkChild()),"IMG"==this.focusedElement.tagName||this.focusedElement.firstElementChild&&"IMG"==this.focusedElement.firstElementChild.tagName?this.dialogLink.querySelector("#ncsedt-dialog-link .image").style.visibility="visible":this.dialogLink.querySelector("#ncsedt-dialog-link .image").style.visibility="hidden","A"==this.focusedElement.tagName)this.dialogLink.querySelector("#ncsedt-dialog-link-title").innerHTML="Link (Edit)",this.dialogLink.querySelector("#ncsedt-dialog-link-anchor").value=this.focusedElement.innerHTML,this.dialogLink.querySelector("#ncsedt-dialog-link-href").value=this.focusedElement.getAttribute("href"),this.dialogLink.querySelector("#ncsedt-dialog-link-remove").checked=!1,this.dialogLink.querySelector("#ncsedt-dialog-link .link-remove").style.visibility="visible","_blank"==this.focusedElement.getAttribute("target")?this.dialogLink.querySelector("#ncsedt-dialog-link-target").checked=!0:this.dialogLink.querySelector("#ncsedt-dialog-link-target").checked=!1;else{if(this.currentSelection.anchorNode.nodeType==Node.TEXT_NODE&&this.currentSelection.toString())var e=this.currentSelection;else e=this.focusedElement.innerHTML||this.focusedElement.outerHTML;this.dialogLink.querySelector("#ncsedt-dialog-link-title").innerHTML="Link (CREATE)",this.dialogLink.querySelector(".anchor").value=e,this.dialogLink.querySelector(".href").value="",this.dialogLink.querySelector("#ncsedt-dialog-link-target").checked=!1,this.dialogLink.querySelector("#ncsedt-dialog-link-remove").checked=!1,this.dialogLink.querySelector("#ncsedt-dialog-link .link-remove").style.visibility="hidden"}this.dialogLink.open||this.dialogLink.showModal()}},ncSimpleHtmlEditor.prototype.editLinkConfirm=function(){this.dialogLink.open&&this.dialogLink.close(),this.editingEnabled&&this.focusedElement.isContentEditable&&("A"==this.focusedElement.tagName?this.dialogLink.querySelector("#ncsedt-dialog-link-remove").checked?this.focusedElement.outerHTML=this.focusedElement.innerHTML:this.editLinkConfirmExisting():this.editLinkConfirmNew())},ncSimpleHtmlEditor.prototype.editLinkConfirmExisting=function(){var e=this.dialogLink.querySelector("#ncsedt-dialog-link-target").checked?"_blank":"",t=this.dialogLink.querySelector("#ncsedt-dialog-link-anchor").value,i=this.dialogLink.querySelector("#ncsedt-dialog-link-href").value,o=this.focusedElement.getAttribute("target"),n=this.focusedElement.innerHTML,s=this.focusedElement.getAttribute("href");o==e&&n==t&&s==i||(this.historyForcePush("href",i),this.historyForcePush("target",e),this.focusedElement.innerHTML=t,this.focusedElement.setAttribute("href",i),this.focusedElement.setAttribute("target",e))},ncSimpleHtmlEditor.prototype.editLinkConfirmNew=function(){var e=this.dialogLink.querySelector("#ncsedt-dialog-link-target").checked?"_blank":"",t=this.dialogLink.querySelector("#ncsedt-dialog-link-anchor").value,i=this.dialogLink.querySelector("#ncsedt-dialog-link-href").value;if(t.length||i.length){var o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("target",e),this.focusedElement.contains(this.currentRange.commonAncestorContainer)?(this.currentRange.surroundContents(o),o.innerHTML=t):(o.innerHTML=t,this.focusedElement.outerHTML=o.outerHTML)}},ncSimpleHtmlEditor.prototype.editLinkParent=function(){this.editingEnabled&&this.focusedElement.parentElement&&this.focusedElement.parentElement.isContentEditable&&(this.setFocus(this.focusedElement.parentElement),this.editLink())},ncSimpleHtmlEditor.prototype.editLinkPrev=function(){this.editingEnabled&&this.focusedElementPrev&&this.focusedElementPrev.isContentEditable&&(this.setFocus(this.focusedElementPrev),this.editLink())},ncSimpleHtmlEditor.prototype.editLinkChild=function(){this.editingEnabled&&this.focusedElement.firstElementChild&&this.focusedElement.firstElementChild.isContentEditable&&(this.setFocus(this.focusedElement.firstElementChild),this.editLink())},ncSimpleHtmlEditor.prototype.renderDialogHead=function(){var e='<dialog id="ncsedt-dialog-head" class="ncsedt-dialog">    <div class="ncsedt-btns">       <div class="ncsedt-btns-left">           <button type="button" class="sbutton dragger"><img class="" src="'+this.options.draggerIcon+'" title="Move"> <span id="ncsedt-dialog-title">Edit head</span></button>       </div>       <div class="ncsedt-btns-right">           <button type="button" class="sbutton cancel"> <b>&Cross;</b> </button>       </div>   </div>   <div class="body">       <label for="ncsedt-dialog-head-title">Title:</label>       <input id="ncsedt-dialog-head-title" class="title sbutton" type="text">       <div class="separator"></div>       <label for="ncsedt-dialog-head-description">Description:</label>       <textarea id="ncsedt-dialog-head-description" rows="3" class="description sbutton" placeholder=" ( empty ) "></textarea>       <div class="separator"></div>       <div class="edit-all" style="display: none">           <label for="ncsedt-dialog-head-all">Edit source code:</label>           <textarea id="ncsedt-dialog-head-all" rows="3" class="all sbutton" placeholder=" ( empty ) "></textarea>       </div>   </div>   <div class="ncsedt-btns">       <div class="ncsedt-btns-left">           <button type="button" class="sbutton show-all"><img class="" src="'+this.options.buttons.code.icon+'" title="Edit code"> Edit all</button>       </div>       <div class="ncsedt-btns-right">           <button type="button" class="sbutton confirm">&check; Ok</button>       </div>   </div></dialog>';return this.container.insertAdjacentHTML("beforeend",e),document.getElementById("ncsedt-dialog-head")},ncSimpleHtmlEditor.prototype.setEventsDialogHead=function(){var e=this;document.querySelector("#ncsedt-dialog-head .cancel").addEventListener("click",(function(){e.dialogHead.close()})),document.querySelector("#ncsedt-dialog-head .show-all").addEventListener("click",(function(){"none"==e.dialogHead.querySelector("#ncsedt-dialog-head .edit-all").style.display?e.dialogHead.querySelector("#ncsedt-dialog-head .edit-all").style.display="inline-block":e.dialogHead.querySelector("#ncsedt-dialog-head .edit-all").style.display="none"})),document.querySelector("#ncsedt-dialog-head .confirm").addEventListener("click",(function(){e.editHeadConfirm()}))},ncSimpleHtmlEditor.prototype.editHead=function(){if(this.editingEnabled){if(document.head.querySelector('meta[name="description"]'))var e=document.head.querySelector('meta[name="description"]').getAttribute("content");else e="";this.dialogHead.querySelector("#ncsedt-dialog-head-title").value=document.title||"pedo",this.dialogHead.querySelector("#ncsedt-dialog-head-description").value=e,this.dialogHead.querySelector("#ncsedt-dialog-head-all").value=document.head.innerHTML,this.dialogHead.open||this.dialogHead.showModal()}},ncSimpleHtmlEditor.prototype.editHeadConfirm=function(){if(this.dialogHead.open&&this.dialogHead.close(),this.editingEnabled){if(document.head.querySelector('meta[name="description"]'))var e=document.head.querySelector('meta[name="description"]').getAttribute("content");else e="";var t=this.dialogHead.querySelector("#ncsedt-dialog-head-title").value,i=this.dialogHead.querySelector("#ncsedt-dialog-head-description").value,o=this.dialogHead.querySelector("#ncsedt-dialog-head-all").value,n=document.title,s=e;if(o!=document.head.innerHTML&&(document.head.innerHTML=o),t!=n&&(document.title=t),i!=s){if(!document.head.querySelector('meta[name="description"]')){var l=document.createElement("meta");l.setAttribute("name","description"),document.head.appendChild(l)}this.historyForcePush("content",i),document.head.querySelector('meta[name="description"]').setAttribute("content",i)}}},window.ncSimpleMoveable=function(e,t){this.movable=document.querySelector(e),this.dragger=document.querySelector(t),"ontouchstart"in document.createElement("div")?this.movableOnTouch():this.movableOnDrag()},ncSimpleMoveable.prototype.movableOnDrag=function(){var e=this,t=0,i=0,o=0,n=0;function s(s){(s=s||window.event).preventDefault(),t=o-s.clientX,i=n-s.clientY,o=s.clientX,n=s.clientY,e.movable.style.top=e.movable.offsetTop-i+"px",e.movable.style.left=e.movable.offsetLeft-t+"px"}function l(){document.onmouseup=null,document.onmousemove=null;var t=e.dragger.offsetLeft,i=e.movable.offsetLeft+t,o=e.dragger.offsetTop,n=e.movable.offsetTop+o,s=window.innerWidth-e.dragger.offsetWidth,l=window.innerHeight-e.dragger.offsetHeight;n>l&&(e.movable.style.top=l-o+"px"),n<0&&(e.movable.style.top=0-o+"px"),i>s&&(e.movable.style.left=s-t+"px"),i<0&&(e.movable.style.left=0-t+"px")}this.movable.style.position="fixed",this.dragger.onmousedown=function(t){(t=t||window.event).preventDefault();var i=window.getComputedStyle(e.movable),d=parseInt(i.getPropertyValue("margin-top")),a=parseInt(i.getPropertyValue("margin-left"));e.movable.style.margin="0px",e.movable.style.top=e.movable.offsetTop+d+"px",e.movable.style.left=e.movable.offsetLeft+a+"px",o=t.clientX,n=t.clientY,document.onmouseup=l,document.onmousemove=s}},ncSimpleMoveable.prototype.movableOnTouch=function(){var e=this;this.movable.style.position="fixed",this.dragger.addEventListener("touchmove",(function(t){t.preventDefault();var i=e.dragger.offsetLeft+Math.round(e.dragger.offsetWidth/2),o=e.dragger.offsetTop+Math.round(e.dragger.offsetHeight/2);e.movable.style.margin="0px";var n=t.targetTouches[0];e.movable.style.left=n.pageX-i+"px",e.movable.style.top=n.pageY-window.pageYOffset-o+"px"})),this.movable.addEventListener("touchend",(function(t){var i=e.dragger.offsetLeft,o=e.movable.offsetLeft+i,n=e.dragger.offsetTop,s=e.movable.offsetTop+n,l=window.innerWidth-e.dragger.offsetWidth,d=window.innerHeight-e.dragger.offsetHeight;s>d&&(e.movable.style.top=d-n+"px"),s<0&&(e.movable.style.top=0-n+"px"),o>l&&(e.movable.style.left=l-i+"px"),o<0&&(e.movable.style.left=0-i+"px")}))},document.currentScript.dataset.ncsheditorauto&&window.addEventListener("DOMContentLoaded",(function(){"ncSHEditor"in window||(ncSHEditor=new ncSimpleHtmlEditor,ncSHEditor.start())}));